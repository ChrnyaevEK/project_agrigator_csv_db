<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Timescaled DB: src/agrlib_v2.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Timescaled DB
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">agrlib_v2.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for agrlib_v2.h:</div>
<div class="dyncontent">
<div class="center"><img src="agrlib__v2_8h__incl.png" border="0" usemap="#src_2agrlib__v2_8h" alt=""/></div>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="agrlib__v2_8h__dep__incl.png" border="0" usemap="#src_2agrlib__v2_8hdep" alt=""/></div>
<map name="src_2agrlib__v2_8hdep" id="src_2agrlib__v2_8hdep">
<area shape="rect" id="node2" href="core_8c.html" title="src/core.c" alt="" coords="19,80,99,107"/>
</map>
</div>
</div>
<p><a href="agrlib__v2_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a5ab5b9aaf3850b085ca39abf901b2751"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="agrlib__v2_8h.html#a5ab5b9aaf3850b085ca39abf901b2751">TEST_CASE</a></td></tr>
<tr class="memdesc:a5ab5b9aaf3850b085ca39abf901b2751"><td class="mdescLeft">&#160;</td><td class="mdescRight">For testing define TEST_CASE.  <a href="#a5ab5b9aaf3850b085ca39abf901b2751">More...</a><br /></td></tr>
<tr class="separator:a5ab5b9aaf3850b085ca39abf901b2751"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe6b865c045f3e7c6892ef4f15ff5779"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="agrlib__v2_8h.html#abe6b865c045f3e7c6892ef4f15ff5779">DONE</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:abe6b865c045f3e7c6892ef4f15ff5779"><td class="mdescLeft">&#160;</td><td class="mdescRight">DONE is used as success indicator.  <a href="#abe6b865c045f3e7c6892ef4f15ff5779">More...</a><br /></td></tr>
<tr class="separator:abe6b865c045f3e7c6892ef4f15ff5779"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fe83ac76edc595f6b98cd4a4127aed5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="agrlib__v2_8h.html#a8fe83ac76edc595f6b98cd4a4127aed5">ERROR</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:a8fe83ac76edc595f6b98cd4a4127aed5"><td class="mdescLeft">&#160;</td><td class="mdescRight">ERROR is used as fail indicator.  <a href="#a8fe83ac76edc595f6b98cd4a4127aed5">More...</a><br /></td></tr>
<tr class="separator:a8fe83ac76edc595f6b98cd4a4127aed5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a0307984afb426de0d910e5fc8eb5af27"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="agrlib__v2_8h.html#a0307984afb426de0d910e5fc8eb5af27">csv_import</a> (char <a class="el" href="core_8c.html#a4b2ae53d82dc2d82a6ba3d6488e3638f">path_to_csv</a>[])</td></tr>
<tr class="memdesc:a0307984afb426de0d910e5fc8eb5af27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function perform import of file.Input value: path to file. Return value: DONE or ERROR.  <a href="#a0307984afb426de0d910e5fc8eb5af27">More...</a><br /></td></tr>
<tr class="separator:a0307984afb426de0d910e5fc8eb5af27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a14e18fe42a95fdce291f1ffd1be5c2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="agrlib__v2_8h.html#a7a14e18fe42a95fdce291f1ffd1be5c2">csv_info</a> (char *<a class="el" href="agrlib__v1_8h.html#ab00f83b047d06986d6709f8ac535b192">csv</a>)</td></tr>
<tr class="memdesc:a7a14e18fe42a95fdce291f1ffd1be5c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function counts rows and columns, max length of line,also replace all EOL with NULL. Input : pointer to csv in memory. Return value: DONE or ERROR.  <a href="#a7a14e18fe42a95fdce291f1ffd1be5c2">More...</a><br /></td></tr>
<tr class="separator:a7a14e18fe42a95fdce291f1ffd1be5c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a605396290960b729c55527ce1168deda"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="agrlib__v2_8h.html#a605396290960b729c55527ce1168deda">init_memory</a> (size_t len, int case_)</td></tr>
<tr class="separator:a605396290960b729c55527ce1168deda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebc31f51013d2dc2c24e280b63e35c3f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="agrlib__v2_8h.html#aebc31f51013d2dc2c24e280b63e35c3f">csv_get_lines</a> (char *<a class="el" href="agrlib__v1_8h.html#ab00f83b047d06986d6709f8ac535b192">csv</a>)</td></tr>
<tr class="memdesc:aebc31f51013d2dc2c24e280b63e35c3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function loops through file searching for line beginnings positions. Input : pointer to csv in memory. Return value: DONE or ERROR.  <a href="#aebc31f51013d2dc2c24e280b63e35c3f">More...</a><br /></td></tr>
<tr class="separator:aebc31f51013d2dc2c24e280b63e35c3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadd713f59dccacdf303f1eae5ff3cbbe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="agrlib__v2_8h.html#aadd713f59dccacdf303f1eae5ff3cbbe">csv_get_timestamps</a> (char *<a class="el" href="agrlib__v1_8h.html#ab00f83b047d06986d6709f8ac535b192">csv</a>)</td></tr>
<tr class="memdesc:aadd713f59dccacdf303f1eae5ff3cbbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function loops through file searching for timestamps positions. Input : pointer to csv in memory. Return value: DONE or ERROR.  <a href="#aadd713f59dccacdf303f1eae5ff3cbbe">More...</a><br /></td></tr>
<tr class="separator:aadd713f59dccacdf303f1eae5ff3cbbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21172191aa50a1ec76d88e728f9c69d4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="agrlib__v2_8h.html#a21172191aa50a1ec76d88e728f9c69d4">sort_timepointers</a> (char **time, char **line)</td></tr>
<tr class="memdesc:a21172191aa50a1ec76d88e728f9c69d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function sorts timestamps. Input : array of timestamps starts pointers and array of line beginnings. Algorithm: combo sorting. Return value: DONE or ERROR.  <a href="#a21172191aa50a1ec76d88e728f9c69d4">More...</a><br /></td></tr>
<tr class="separator:a21172191aa50a1ec76d88e728f9c69d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab91f89f6a19d310763428e1bf599f4fe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="agrlib__v2_8h.html#ab91f89f6a19d310763428e1bf599f4fe">compare_timestamps</a> (char *first, char *second)</td></tr>
<tr class="memdesc:ab91f89f6a19d310763428e1bf599f4fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function compares first given timespamp with second by subtraction. Return value: 1 for F&gt;S., 2 for F&lt;S., 3 for F=S or ERROR.  <a href="#ab91f89f6a19d310763428e1bf599f4fe">More...</a><br /></td></tr>
<tr class="separator:ab91f89f6a19d310763428e1bf599f4fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9931ba3f9b842cdf853e586e986ab50"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="agrlib__v2_8h.html#ad9931ba3f9b842cdf853e586e986ab50">new_gap</a> (size_t gap)</td></tr>
<tr class="memdesc:ad9931ba3f9b842cdf853e586e986ab50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function generates new gap for combo sort algorithm. Input : old gap. Return : new gap.  <a href="#ad9931ba3f9b842cdf853e586e986ab50">More...</a><br /></td></tr>
<tr class="separator:ad9931ba3f9b842cdf853e586e986ab50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d809ffa3eb2e85f2e2a91b7feb39584"><td class="memItemLeft" align="right" valign="top">char ***&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="agrlib__v2_8h.html#a5d809ffa3eb2e85f2e2a91b7feb39584">agregate</a> (char *<a class="el" href="core_8c.html#a4b2ae53d82dc2d82a6ba3d6488e3638f">path_to_csv</a>, unsigned short int *timestamp_column)</td></tr>
<tr class="memdesc:a5d809ffa3eb2e85f2e2a91b7feb39584"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main function, controls order of program flow and.  <a href="#a5d809ffa3eb2e85f2e2a91b7feb39584">More...</a><br /></td></tr>
<tr class="separator:a5d809ffa3eb2e85f2e2a91b7feb39584"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19ca95ef173bf8ed186fd3c4d0aede1f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="agrlib__v2_8h.html#a19ca95ef173bf8ed186fd3c4d0aede1f">show_hiden_time</a> (char *timestamp)</td></tr>
<tr class="memdesc:a19ca95ef173bf8ed186fd3c4d0aede1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Help functions - in test cases may come in handy. ! STDOUT is used.  <a href="#a19ca95ef173bf8ed186fd3c4d0aede1f">More...</a><br /></td></tr>
<tr class="separator:a19ca95ef173bf8ed186fd3c4d0aede1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4df9c8a3fc1c3470cdc57ecfb548fd95"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="agrlib__v2_8h.html#a4df9c8a3fc1c3470cdc57ecfb548fd95">show_hiden_string</a> (char *line)</td></tr>
<tr class="memdesc:a4df9c8a3fc1c3470cdc57ecfb548fd95"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function prints line given by pointer until EOL met.  <a href="#a4df9c8a3fc1c3470cdc57ecfb548fd95">More...</a><br /></td></tr>
<tr class="separator:a4df9c8a3fc1c3470cdc57ecfb548fd95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93d82a5a51eb0de86f629e86dce96202"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="agrlib__v2_8h.html#a93d82a5a51eb0de86f629e86dce96202">general_check</a> (int case_)</td></tr>
<tr class="memdesc:a93d82a5a51eb0de86f629e86dce96202"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function perform general check by printing: case{1) - all sorted timestamps, case(2) - all sorted csv lines.  <a href="#a93d82a5a51eb0de86f629e86dce96202">More...</a><br /></td></tr>
<tr class="separator:a93d82a5a51eb0de86f629e86dce96202"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fd952fbab14a2eaaa9aaf96010e2aa0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="agrlib__v2_8h.html#a8fd952fbab14a2eaaa9aaf96010e2aa0">csv_import</a> (char *<a class="el" href="core_8c.html#a4b2ae53d82dc2d82a6ba3d6488e3638f">path_to_csv</a>)</td></tr>
<tr class="separator:a8fd952fbab14a2eaaa9aaf96010e2aa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a2f44b091be60ccdd664997eb163d2ff4"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="agrlib__v2_8h.html#a2f44b091be60ccdd664997eb163d2ff4">sep</a> = ','</td></tr>
<tr class="memdesc:a2f44b091be60ccdd664997eb163d2ff4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines csv separator, must be single symbol.  <a href="#a2f44b091be60ccdd664997eb163d2ff4">More...</a><br /></td></tr>
<tr class="separator:a2f44b091be60ccdd664997eb163d2ff4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4409b51f47ad8c26d98b227bf26bfbd9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="agrlib__v2_8h.html#a4409b51f47ad8c26d98b227bf26bfbd9">end_CR</a> = 0x0D</td></tr>
<tr class="separator:a4409b51f47ad8c26d98b227bf26bfbd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb7d175ad428e618e66b9d002a475cf2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="agrlib__v2_8h.html#abb7d175ad428e618e66b9d002a475cf2">end_LF</a> = 0x0A</td></tr>
<tr class="memdesc:abb7d175ad428e618e66b9d002a475cf2"><td class="mdescLeft">&#160;</td><td class="mdescRight">End of line LF symbol.  <a href="#abb7d175ad428e618e66b9d002a475cf2">More...</a><br /></td></tr>
<tr class="separator:abb7d175ad428e618e66b9d002a475cf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfdc908b893f72ef73c8850671ba538f"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="agrlib__v2_8h.html#adfdc908b893f72ef73c8850671ba538f">timestamp_col</a> = 0</td></tr>
<tr class="memdesc:adfdc908b893f72ef73c8850671ba538f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This parameter is user defined. It holds the timestamps column number. Note, that columns are counted from 0 : 0,1,2,3,4, ... ,timestamp_col, .... n.  <a href="#adfdc908b893f72ef73c8850671ba538f">More...</a><br /></td></tr>
<tr class="separator:adfdc908b893f72ef73c8850671ba538f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeed51c87c57a3eb984514da8000aeb7b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="agrlib__v2_8h.html#aeed51c87c57a3eb984514da8000aeb7b">timestamp_len</a></td></tr>
<tr class="separator:aeed51c87c57a3eb984514da8000aeb7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8466c885b251cd7cfa286745837b5347"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="agrlib__v2_8h.html#a8466c885b251cd7cfa286745837b5347">max_try</a> = 5</td></tr>
<tr class="memdesc:a8466c885b251cd7cfa286745837b5347"><td class="mdescLeft">&#160;</td><td class="mdescRight">Max number of attempts to allocate memory.  <a href="#a8466c885b251cd7cfa286745837b5347">More...</a><br /></td></tr>
<tr class="separator:a8466c885b251cd7cfa286745837b5347"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82500a31718a0b612f28d06d2a448e04"><td class="memItemLeft" align="right" valign="top">FILE *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="agrlib__v2_8h.html#a82500a31718a0b612f28d06d2a448e04">input_csv</a></td></tr>
<tr class="memdesc:a82500a31718a0b612f28d06d2a448e04"><td class="mdescLeft">&#160;</td><td class="mdescRight">File pointer.  <a href="#a82500a31718a0b612f28d06d2a448e04">More...</a><br /></td></tr>
<tr class="separator:a82500a31718a0b612f28d06d2a448e04"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="abe6b865c045f3e7c6892ef4f15ff5779"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe6b865c045f3e7c6892ef4f15ff5779">&#9670;&nbsp;</a></span>DONE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DONE&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>DONE is used as success indicator. </p>

</div>
</div>
<a id="a8fe83ac76edc595f6b98cd4a4127aed5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fe83ac76edc595f6b98cd4a4127aed5">&#9670;&nbsp;</a></span>ERROR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ERROR&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ERROR is used as fail indicator. </p>

</div>
</div>
<a id="a5ab5b9aaf3850b085ca39abf901b2751"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ab5b9aaf3850b085ca39abf901b2751">&#9670;&nbsp;</a></span>TEST_CASE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TEST_CASE</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>For testing define TEST_CASE. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a5d809ffa3eb2e85f2e2a91b7feb39584"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d809ffa3eb2e85f2e2a91b7feb39584">&#9670;&nbsp;</a></span>agregate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char *** agregate </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>path_to_csv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short int *&#160;</td>
          <td class="paramname"><em>timestamp_column</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main function, controls order of program flow and. </p>
<p>This is main logic function. Call this with path to perform all. Program flow : csv_import &mdash;&gt; csv_info &ndash;&gt; init_memory &mdash;&gt; csv_get_lines &mdash;&gt; csv_get_timestamps &mdash;&gt; sort(compare) END file import &mdash;&gt; general information &ndash;&gt; memory initialization &mdash;&gt; lines search &mdash;&gt; timestamps search &mdash;&gt; sorting END Information about timestamp column is taken from user. </p>

</div>
</div>
<a id="ab91f89f6a19d310763428e1bf599f4fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab91f89f6a19d310763428e1bf599f4fe">&#9670;&nbsp;</a></span>compare_timestamps()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int compare_timestamps </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>first</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>second</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function compares first given timespamp with second by subtraction. Return value: 1 for F&gt;S., 2 for F&lt;S., 3 for F=S or ERROR. </p>
<p>Comparison is done by subtraction and comparison with zero, so it is important to follow timestamps format Return value 1 if first(passed value) &gt; second (passed value) 2 if first &lt; second 3 if first = second In TEST_CASE some additional information is shown</p>
<p>Comparing we loop through timestamps subtracting values Return values reflects relations between First and Second values </p>

</div>
</div>
<a id="aebc31f51013d2dc2c24e280b63e35c3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebc31f51013d2dc2c24e280b63e35c3f">&#9670;&nbsp;</a></span>csv_get_lines()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int csv_get_lines </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>csv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function loops through file searching for line beginnings positions. Input : pointer to csv in memory. Return value: DONE or ERROR. </p>
<p>Getting lines beginnings starts with memory allocation. We need memory for pointers array with length equal to the number of rows</p>
<p>In case of fail we will try up try max try number</p>
<p>Then we search for position of each first not null symbol and save reference on it </p>

</div>
</div>
<a id="aadd713f59dccacdf303f1eae5ff3cbbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aadd713f59dccacdf303f1eae5ff3cbbe">&#9670;&nbsp;</a></span>csv_get_timestamps()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int csv_get_timestamps </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>csv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function loops through file searching for timestamps positions. Input : pointer to csv in memory. Return value: DONE or ERROR. </p>
<p>Getting timestamps pointers for further comparison start with memory a allocation. We try to allocate memory as well several times</p>
<p>To indicate if current position in file contains timestamp or not we will count columns If file contains an error and we exceed the number of columns -work stops.</p>
<p>As timestamp is found and its first character address is stored - we do not expect timestamps in this line any more</p>
<p>All timestamps should be the same length, which is never exceeded during timestamps comparison</p>
<p>Header does not take part in counting, so first - we must pass it</p>
<p>To avoid errors in column number we indicate step from meaningful part to meaning less If at this moments we did not met enough separators - error</p>
<p>Each symbol is checked for separator or EOL</p>
<p>EOL means that we are in useless part</p>
<p>If timestamp is located at the end of line - its length is counted here.</p>
<p>As well at the end of line we check for number of columns to be the same as counted in header</p>
<p>Another error is reaching end of line and without reaching timestamp column.</p>
<p>Indication of non header line is : timestamp length counting has started, but header_passed is still false .</p>
<p>Next error is different length of timestamps, which means that error if no timestamp found. If something else is in column of ts, but of the same length - it ok, as well it will be sorted.</p>
<p>Length of timestamp is as well controlled/counted when separator is met.</p>
<p>Finally - an address of first symbol in timestamps columns is taken. </p>

</div>
</div>
<a id="a0307984afb426de0d910e5fc8eb5af27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0307984afb426de0d910e5fc8eb5af27">&#9670;&nbsp;</a></span>csv_import() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int csv_import </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>path_to_csv</em>[]</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function perform import of file.Input value: path to file. Return value: DONE or ERROR. </p>

</div>
</div>
<a id="a8fd952fbab14a2eaaa9aaf96010e2aa0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fd952fbab14a2eaaa9aaf96010e2aa0">&#9670;&nbsp;</a></span>csv_import() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int csv_import </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>path_to_csv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Import starts with reading file. An ERROR returned in case of fail.</p>
<p>The first thing after file was opened - get its size. Then we allocate memory. All at once.</p>
<p>To free memory lets save the original reference</p>
<p>If we have memory - read whole file to it and then close file</p>
<p>If at some stage an error occurs - ERROR is returned end the program generaly ends. Possible errors: read less than file size(import error), not enough memory to hold file(mem error), error in opening file. These are end cases and ERROR is returned. However we will consider an empty file as already sorted and return DONE</p>

</div>
</div>
<a id="a7a14e18fe42a95fdce291f1ffd1be5c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a14e18fe42a95fdce291f1ffd1be5c2">&#9670;&nbsp;</a></span>csv_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int csv_info </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>csv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function counts rows and columns, max length of line,also replace all EOL with NULL. Input : pointer to csv in memory. Return value: DONE or ERROR. </p>
<p>First,lets count columns. For this we use first line, as it is considered to be header</p>
<p>So, each character is compared with separator or EOL</p>
<p>Each found separator increase column number</p>
<p>As the EOL reached - we increase column number again : ... , ... , ... has 3 col, but only 2 separators</p>
<p>Here we will also check if file contains more than one line.</p>
<p>If only one line found - we return, as it has no reason to continue sorting</p>
<p>Next - count meaningful lines and maximum line length. From here line becomes sequence of characters delimited by '\0' (max_len - maximum length, cur_len - current length)</p>
<p>Replacing all EOL with '\0' will make searching easier</p>
<p>In test case, information about file will be printed </p>

</div>
</div>
<a id="a93d82a5a51eb0de86f629e86dce96202"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93d82a5a51eb0de86f629e86dce96202">&#9670;&nbsp;</a></span>general_check()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void general_check </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>case_</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function perform general check by printing: case{1) - all sorted timestamps, case(2) - all sorted csv lines. </p>
<p>Shows all timestamps(1), saved by pointers or lines(2), saved by pointers </p>

</div>
</div>
<a id="a605396290960b729c55527ce1168deda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a605396290960b729c55527ce1168deda">&#9670;&nbsp;</a></span>init_memory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int init_memory </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>case_</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function contains main memory initialization. Input: size to initialize pointer with(main case - number of rows) and cases 1-2-3, which pointer to initialize with memory. Return value: DONE or ERROR </p>
<p>For better structure some memory initialization is located here. Global pointers timestamp and lines getting memory from here. Input: len - size of memory to allocate, case_ - for which pointer(1,2,3) </p>

</div>
</div>
<a id="ad9931ba3f9b842cdf853e586e986ab50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9931ba3f9b842cdf853e586e986ab50">&#9670;&nbsp;</a></span>new_gap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t new_gap </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>gap</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function generates new gap for combo sort algorithm. Input : old gap. Return : new gap. </p>
<p>New gap for sorting is formed from rows number and after first loop of algorithm from last gap. Conditions of gap formation could be changed </p>

</div>
</div>
<a id="a4df9c8a3fc1c3470cdc57ecfb548fd95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4df9c8a3fc1c3470cdc57ecfb548fd95">&#9670;&nbsp;</a></span>show_hiden_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void show_hiden_string </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>line</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function prints line given by pointer until EOL met. </p>
<p>Helpful when testing. Show line by its pointer </p>

</div>
</div>
<a id="a19ca95ef173bf8ed186fd3c4d0aede1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19ca95ef173bf8ed186fd3c4d0aede1f">&#9670;&nbsp;</a></span>show_hiden_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void show_hiden_time </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>timestamp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Help functions - in test cases may come in handy. ! STDOUT is used. </p>
<p>Function prints timestamp, given by pointer, of length timestamp_len </p>
<p>Helpful when testing. Show timestamps by pointer </p>

</div>
</div>
<a id="a21172191aa50a1ec76d88e728f9c69d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21172191aa50a1ec76d88e728f9c69d4">&#9670;&nbsp;</a></span>sort_timepointers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sort_timepointers </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>line</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function sorts timestamps. Input : array of timestamps starts pointers and array of line beginnings. Algorithm: combo sorting. Return value: DONE or ERROR. </p>
<p>Algorithm is based on bubble sort. The only difference is in shrinking gap between two compared values. At last stages it becomes pure bubble sort.</p>
<p>Before comparison we would check if it worth to be done - if csv has only 2 rows it has no meaning.</p>
<p>In other case, first thing to do - step over header.</p>
<p>Then define some temporary holders for compared objects We compare timestamps but the line order gets changed too</p>
<p>Sorting loop starts with getting new gap</p>
<p>Then we compare two timestamps with compare_timestamps function. IF YOU NEED TO CHANGE ORDER - SET 2 INSTEAD OF 1 IN IF CONDITION If the order is ok, go on, else - swap the pointers </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a4409b51f47ad8c26d98b227bf26bfbd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4409b51f47ad8c26d98b227bf26bfbd9">&#9670;&nbsp;</a></span>end_CR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int end_CR = 0x0D</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>To handle different OS dependent EOL, EOL symbols defined End of line CR symbol </p>

</div>
</div>
<a id="abb7d175ad428e618e66b9d002a475cf2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb7d175ad428e618e66b9d002a475cf2">&#9670;&nbsp;</a></span>end_LF</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int end_LF = 0x0A</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>End of line LF symbol. </p>

</div>
</div>
<a id="a82500a31718a0b612f28d06d2a448e04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82500a31718a0b612f28d06d2a448e04">&#9670;&nbsp;</a></span>input_csv</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FILE* input_csv</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>File pointer. </p>

</div>
</div>
<a id="a8466c885b251cd7cfa286745837b5347"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8466c885b251cd7cfa286745837b5347">&#9670;&nbsp;</a></span>max_try</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int max_try = 5</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Max number of attempts to allocate memory. </p>

</div>
</div>
<a id="a2f44b091be60ccdd664997eb163d2ff4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f44b091be60ccdd664997eb163d2ff4">&#9670;&nbsp;</a></span>sep</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char sep = ','</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Defines csv separator, must be single symbol. </p>
<p>General : first meaningfull line is header for table Empty lines are allowed </p>

</div>
</div>
<a id="adfdc908b893f72ef73c8850671ba538f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfdc908b893f72ef73c8850671ba538f">&#9670;&nbsp;</a></span>timestamp_col</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t timestamp_col = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This parameter is user defined. It holds the timestamps column number. Note, that columns are counted from 0 : 0,1,2,3,4, ... ,timestamp_col, .... n. </p>

</div>
</div>
<a id="aeed51c87c57a3eb984514da8000aeb7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeed51c87c57a3eb984514da8000aeb7b">&#9670;&nbsp;</a></span>timestamp_len</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int timestamp_len</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Program accepts all ,constant length, timestamps which are following the ISO 8601 (<a href="https://en.wikipedia.org/wiki/ISO_8601">https://en.wikipedia.org/wiki/ISO_8601</a>). Length is counted automatically (all symb. included) </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
